{"mappings":"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","sources":["js/popup.js","js/profile.js","js/edit-profile-modal.js","js/main.js","js/textarea.js","js/like-tweet.js"],"sourcesContent":["const popup = document.getElementById('popup')\n\nsetTimeout(() => {\n    popup.classList.replace('sticky', 'hidden')\n}, 5000)\n","const tweetsTab = document.getElementById('tweets-tab')\nconst tweetsAndRepliesTab = document.getElementById('tweets-and-replies-tab');\nconst likesTab = document.getElementById('likes-tab');\nconst mediaTab = document.getElementById('media-tab');\nconst editProfile = document.getElementById('edit-profile')\nconst editProfileModal = document.getElementById('edit-profile-modal')\n\nconst tweetsTabView = document.getElementById('tweets-tab-view');\nconst tweetsAndRepliesTabView = document.getElementById('tweets-and-replies-tab-view')\nconst likesTabView = document.getElementById('likes-tab-view')\nconst mediaTabView = document.getElementById('media-tab-view')\n\nconst relations = {\n    'tweets-tab': [tweetsTab, tweetsTabView],\n    'tweets-and-replies-tab': [tweetsAndRepliesTab, tweetsAndRepliesTabView],\n    'likes-tab': [likesTab, likesTabView],\n    'media-tab': [mediaTab, mediaTabView]\n}\n\nconst tabs = [tweetsTab, likesTab, mediaTab, tweetsAndRepliesTab];\n\nconst parser = new DOMParser();\nconst activeTabIndicatorString = \"<div class='w-16 h-1 bg-yellow-400 rounded-full'></div>\"\n\n// Parse the active tab indicator string and extract the firstChild\n// which his the node we need to append to the parent div\nconst activeTabIndicator = parser.parseFromString(activeTabIndicatorString, 'text/html').body.firstChild\n\n// On page load set tweetsTab as active\ntweetsTab.appendChild(activeTabIndicator)\ntweetsTabView.classList.remove('hidden')\n\ntabs.forEach(element => {\n    element.onclick = () => {\n        element.appendChild(activeTabIndicator)\n\n        // Iterate through relation keys and find one that matches\n        // the element clicked on's id\n        Object.keys(relations).forEach((i) => {\n            if (i == element.id) {\n                const tabView = relations[i][1]\n                tabView.classList.remove('hidden')\n            } else {\n                const tabView = relations[i][1]\n                tabView.classList.add('hidden')\n            }\n        })\n    }\n});\n\n// Display edit modal\neditProfile.onclick = () => {\n    editProfileModal.classList.remove('hidden')\n    editProfileModal.classList.add('flex')\n}\n","const close = document.getElementById('close')\nconst modalContent = document.getElementById('modal-content')\nconst editProfileModal = document.getElementById('edit-profile-modal')\n\nclose.onclick = () => {\n    editProfileModal.classList.remove('flex')\n    editProfileModal.classList.add('hidden')\n}\n\nconst modalContentChildren = modalContent.querySelectorAll('*')\nconst modalContentChildrenArray = Array.from(modalContentChildren)\n\n// Close modal if anywhere is clicked outside the modal content\ndocument.getElementById('edit-profile-modal').onclick = e => {\n    if (e.target != modalContent && !modalContentChildrenArray.includes(e.target)) {\n        editProfileModal.classList.remove('flex')\n        editProfileModal.classList.add('hidden')\n    }\n}\n\nconst saveButton = document.getElementById('save')\nconst profileForm = document.getElementById('profile-form')\nsave.onclick = () => {\n    profileForm.submit()\n}\n\n// Count input value length and update counter\nfunction inputCounter(input, inputCount) {\n    input.oninput = function () {\n        inputCount.innerText = this.value.length\n    }\n}\n\n// Get all input fields\nconst inputElements = document.querySelectorAll('[id$=\"input\"]')\nconst inputElementsArray = Array.from(inputElements)\n\ninputElementsArray.forEach(element => {\n    let id = element.id\n    let inputCount = document.getElementById(id + '-count')\n    inputCount.innerText = element.value.length\n\n    inputCounter(element, inputCount)\n});","import './textarea'\nimport './like-tweet'\n\nconst body = document.getElementsByTagName('body')[0]\nconst view = body.dataset.view\nconst popup = document.getElementById('popup')\n\nif (popup != null) {\n    require('./popup')\n}\n\nif (view === 'profile') {\n    require('./profile')\n    require('./edit-profile-modal')\n}\n\n","// Resize textarea on input dynamically\nconst tx = document.getElementsByTagName(\"textarea\");\nfor (let i = 0; i < tx.length; i++) {\n    tx[i].setAttribute(\n        \"style\",\n        \"height:\" + tx[i].scrollHeight + \"px;overflow-y:hidden;\"\n    );\n    tx[i].addEventListener(\"input\", OnInput, false);\n}\n\nfunction OnInput() {\n    this.style.height = \"auto\";\n    this.style.height = this.scrollHeight + \"px\";\n}\n","\nconst likeButtons = document.querySelectorAll('[data-button=\"like\"]')\nlet likeButtonsArray = Array.from(likeButtons)\n\nlikeButtonsArray.forEach(element => {\n    element.onclick = () => {\n        if (element.dataset.state == 'liked') {\n            let tweetId = element.dataset.id\n            changeLikeButtonState(tweetId)\n            unlikeTweet(tweetId, element)\n        } else {\n            let tweetId = element.dataset.id\n            changeUnlikeButtonState(tweetId)\n            likeTweet(tweetId, element)\n        }\n    }\n})\n\n/**\n * @param  {} id\n * @param  {} likeButton\n * Send like tweet request to server\n */\nfunction likeTweet(id, likeButton) {\n    fetch(`http://127.0.0.1:8000/tweet/like_tweet/${id}/`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json',\n            'X-CSRFToken': document.getElementsByName('csrfmiddlewaretoken')[0].value\n        },\n    }).then(response => {\n        if (response.status != 200) {\n            // Reset like button and count when the request fails\n            changeLikeButtonState(likeButton)\n        }\n    })\n}\n\n/**\n * @param  {} id\n * @param  {} unlikeButton\n * Send unlike tweet request to server\n */\nfunction unlikeTweet(id, unlikeButton) {\n    fetch(`http://127.0.0.1:8000/tweet/unlike_tweet/${id}/`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Accept': 'application/json',\n            'X-CSRFToken': document.getElementsByName('csrfmiddlewaretoken')[0].value\n        },\n    }).then(response => {\n        if (response.status != 200) {\n            // Reset unlike button and count when the request fails\n            changeUnlikeButtonState(unlikeButton)\n        }\n    })\n}\n\n/**\n * @param  {} likeButton\n *  Change like button state to ulike button state\n */\nfunction changeLikeButtonState(dataId) {\n    const likeButtons = document.querySelectorAll(`[data-id=\"${dataId}\"]`)\n\n    likeButtons.forEach(element => {\n        const likeIcon = element.querySelector('i')\n        likeIcon.classList.replace('fa-solid', 'fa-regular')\n        likeIcon.classList.remove('text-red-500')\n\n        const likesCount = element.querySelectorAll('span')[0]\n        const likesCountNumber = parseInt(likesCount.innerText)\n        likesCount.innerText = likesCountNumber - 1\n\n        element.dataset.state = 'unliked'\n    })\n}\n\n/**\n * @param  {} unlikeButton\n *  Change unlike button state to like button state\n */\nfunction changeUnlikeButtonState(dataId) {\n    const unlikeButtons = document.querySelectorAll(`[data-id=\"${dataId}\"]`)\n\n    unlikeButtons.forEach(element => {\n        const likeIcon = element.querySelector('i')\n        likeIcon.classList.replace('fa-regular', 'fa-solid')\n        likeIcon.classList.add('text-red-500')\n\n        const likesCount = element.querySelectorAll('span')[0]\n        const likesCountNumber = parseInt(likesCount.innerText)\n        likesCount.innerText = likesCountNumber + 1\n\n        element.dataset.state = 'liked'\n    })\n}"],"names":[],"version":3,"file":"main.js.map","sourceRoot":"../../jstoolchain/"}